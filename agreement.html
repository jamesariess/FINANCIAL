<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Period Control</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">

  <div class="max-w-3xl mx-auto bg-white rounded-2xl shadow-lg p-6">
    <h2 class="text-2xl font-bold mb-6">ðŸ“… Period Control</h2>
    <table class="w-full border-collapse border text-sm">
      <thead class="bg-gray-200">
        <tr>
          <th class="border p-2">Year</th>
          <th class="border p-2">Month</th>
          <th class="border p-2">Start Date</th>
          <th class="border p-2">End Date</th>
          <th class="border p-2">Status</th>
          <th class="border p-2">Action</th>
        </tr>
      </thead>
      <tbody id="periodTable">
        <!-- Rows will be injected by JS -->
      </tbody>
    </table>
  </div>

  <script>
    // Sample periods (you can load from DB later)
    let periods = [
      { id: 1, year: 2025, month: "September", start: "2025-09-01", end: "2025-09-30", status: "OPEN" },
      { id: 2, year: 2025, month: "August", start: "2025-08-01", end: "2025-08-31", status: "CLOSED" },
      { id: 3, year: 2025, month: "July", start: "2025-07-01", end: "2025-07-31", status: "CLOSED" }
    ];

    function renderTable() {
      const tbody = document.getElementById("periodTable");
      tbody.innerHTML = "";

      periods.forEach(period => {
        const row = document.createElement("tr");

        row.innerHTML = `
          <td class="border p-2">${period.year}</td>
          <td class="border p-2">${period.month}</td>
          <td class="border p-2">${period.start}</td>
          <td class="border p-2">${period.end}</td>
          <td class="border p-2 font-bold ${period.status === "OPEN" ? "text-green-600" : "text-gray-500"}">
            ${period.status}
          </td>
          <td class="border p-2 text-center">
            <button onclick="toggleStatus(${period.id})"
              class="px-3 py-1 rounded text-white ${period.status === "OPEN" ? "bg-red-500" : "bg-green-500"}">
              ${period.status === "OPEN" ? "Close" : "Reopen"}
            </button>
          </td>
        `;

        tbody.appendChild(row);
      });
    }

    function toggleStatus(id) {
      const period = periods.find(p => p.id === id);
      if (period) {
        period.status = (period.status === "OPEN") ? "CLOSED" : "OPEN";
        renderTable();
      }
    }

    // Initial render
    renderTable();
  </script>
</body>
</html>
