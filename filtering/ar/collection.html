

  <div class="card">
 
    <div class="card-header">
      <h2>Filters ‚öôÔ∏è</h2>
      <div style="display:flex;align-items:center;gap:10px;">
        <div class="search-box">
          <input type="text" placeholder="üîç Search..." id="myInput" onkeyup="applyFilters()">
        </div>
      <button class="btn btn-sort" id="sortBtn" type="button" onclick="toggleSort()">‚áÖ Sort Asc</button>

        <button class="btn btn-filter">‚¨á Download</button>
        
      </div>
    </div>

  
    <div class="filters">

      <div class="form-group">
        <label>Cost Category</label>
        <select id="plantypefilter" onchange="applyFilters()"">
          <option>All</option>
          <option>Fuel</option>
          <option>Wages</option>
          <option>Maintenance & Repairs</option>
          <option>Tolls & Road Fees</option>
          <option value="">Insurance</option>
          <option value="">Administration</option>
      
       
        </select>

      </div>
     </div>
    <div class="form-group">
    <label>Amount Range</label>
    <div class="date-range">
      <input type="number" id="minAmount" placeholder="Min" onkeyup="applyFilters()">
      <span>‚Äì</span>
      <input type="number" id="maxAmount" placeholder="Max" onkeyup="applyFilters()">
    </div>
  </div>

  <!-- üìÖ Date Range -->
  <div class="form-group">
    <label>Allocation RAnge Date</label>
    <div class="date-range">
      <input type="date" id="startDate" onchange="applyFilters() ">
      <span>‚Äì</span>
      <input type="date" id="endDate" onchange="applyFilters() ">
    </div>

</div>

  

    <!-- Reset -->
    <div style="margin-top:15px;">
      <button class="btn-reset" onclick="resetFilters()">‚ü≥ Reset Filters</button>
    </div>
  </div>

  <script>
    function applyFilters() {
    const searchInput = document.getElementById("myInput").value.toUpperCase();
    const planTypeFilter = document.getElementById("plantypefilter").value.toUpperCase();
    const min = parseFloat(document.getElementById("minAmount").value) || 0;
    const max = parseFloat(document.getElementById("maxAmount").value) || Infinity;
    const minDate = new Date(document.getElementById("startDate").value);
    const maxDate = new Date(document.getElementById("endDate").value);

    const table = document.getElementById("employeesTable");
    const tbody = table.tBodies[0];
    const rows = Array.from(tbody.rows);

    rows.forEach(row => {
        const cells = Array.from(row.cells);

        const amountCell = parseFloat(cells[3].textContent.replace(/[^0-9.-]+/g, "")) || 0;
        const dateCell = new Date(cells[5].textContent);

        const searchMatch = cells.some(td =>
            (td.textContent || td.innerText || "").toUpperCase().includes(searchInput)
        );

        const plantypeCell = cells[2].textContent.toUpperCase();
        const planMatch = planTypeFilter === "ALL" || plantypeCell === planTypeFilter;


        const amountMatch = (amountCell >= min && amountCell <= max);
        const dateMatch = (
            (isNaN(minDate) || dateCell >= minDate) &&
            (isNaN(maxDate) || dateCell <= maxDate)
        );

        // ‚úÖ only show row if ALL conditions match
        const show = searchMatch && planMatch  && amountMatch && dateMatch;
        row.style.display = show ? "" : "none";
    });
}

  </script>
