<div class="table-section" id="invoiceTableSection">
    <h3>Custumer Report</h3>
    <table id="employeesTable">
        <thead>
            <tr>
    <th>custumer ID</th>
    <th>custumer Name</th>
    <th>Contact Person</th>
    <th>Contact Number</th>
    <th>Email</th>
    <th>Address</th>
    <th>Terms</th>
    <th>Status</th>
    <th>Action</th>
            </tr>
        </thead>
        <tbody id="employeesTableBody">
            <?php if(!empty($custumerReports)):
            foreach($custumerReports as $row): ?>
            <tr>
    <td><?php echo htmlspecialchars($row['customer_id']);?></td>
    <td><?php echo htmlspecialchars($row['name']);?></td>
    <td><?php echo htmlspecialchars($row['contact_person']);?></td>
    <td><?php echo htmlspecialchars($row['phone']);?></td>
    <td><?php echo htmlspecialchars($row['email']);?></td>
    <td><?php echo htmlspecialchars($row['address_line']);?></td>
    <td><?php echo htmlspecialchars($row['payment_terms']);?></td>
    <td><?php echo htmlspecialchars($row['is_active']);?></td>
     <td>
        <a href=""
        onclick="openViewModal(
            '<?php echo $row['customer_id'];?>',
            '<?php echo htmlspecialchars($row['name'],ENT_QUOTES);?>',
            '<?php echo htmlspecialchars($row['contact_person'],ENT_QUOTES);?>',
            '<?php echo htmlspecialchars($row['phone'],ENT_QUOTES);?>',
            '<?php echo htmlspecialchars($row['email'],ENT_QUOTES);?>',
            '<?php echo htmlspecialchars($row['address_line'],ENT_QUOTES);?>',
            '<?php echo htmlspecialchars($row['payment_terms'],ENT_QUOTES);?>',
            '<?php echo htmlspecialchars($row['is_active'],ENT_QUOTES);?>');
        return false;"> üëÅÔ∏è View</a>

     </td>
         
            </tr>
            <?php endforeach; else:?>
            <tr><Td colspan="8" class="text-center p-4">NO Records Found.</Td></tr>
            <?php endif;?>
        </tbody>
    </table>
</div>

<div id="viewModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center" onclick="outsideClick(event, 'viewModal')">
    <div class="bg-white p-6 rounded-lg shadow-lg w-1/3 relative" onclick="event.stopPropagation()">
        <h2 class="text-lg font-bold mb-4">View</h2>
        <div class="space-y-2">
            <p><strong>Custumer ID:</strong> <span id="viewAdjustID"></span></p>
            <p><strong>Custumer Name:</strong> <span id="viewBudgetID"></span></p>
            <p><strong>Contact Person:</strong> <span id="viewAdjustedBy"></span></p>
            <p><strong>Contact Number:</strong> <span id="viewAdjustmentDate"></span></p>
            <p><strong>Email:</strong> <span id="viewReason"></span></p>
            <p><strong>Address:</strong> <span id="viewNewAmount"></span></p>
            <p><strong>Terms:</strong> <span id="viewStatus"></span></p>
        </div>
      
    </div>
</div>


<script>
function openViewModal(custumerID, custumerName, contactPerson, contactNumber, email, address, paymentTerms, status) {
    document.getElementById('viewAdjustID').innerText = custumerID;
    document.getElementById('viewBudgetID').innerText = custumerName;
    document.getElementById('viewAdjustedBy').innerText = contactPerson;
    document.getElementById('viewAdjustmentDate').innerText = contactNumber;
    document.getElementById('viewReason').innerText = email;
    document.getElementById('viewNewAmount').innerText = address;
    document.getElementById('viewStatus').innerText = paymentTerms;
    document.getElementById('viewStatus').innerText = status;
    document.getElementById('viewModal').classList.remove('hidden');
}

function closeModal(modalId) {
    document.getElementById(modalId).classList.add('hidden');
}
function outsideClick(event, modalId) {
    if (event.target.id === modalId) {
        closeModal(modalId);
    }
}
</script>