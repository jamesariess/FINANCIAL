<div class="modal-overlay" id="modalOverlay">
        <div class="form-collection" id="collectionform">
            <legend>Add Loan</legend>
            <form action="" method="post">
                <input type="hidden" id="RequestId" name="RequestId">
                <fieldset>
          <div class="form-group">
    <label for="vendorName">Vendor Name</label>
    <select id="vendorName" name="vendorId" required>
        <option value="">--SELECT VENDOR--</option>
        <?php
        try {
            $sql = "SELECT vendor_id, vendor_name FROM vendor WHERE Status = 'Active' AND Archive='NO' ORDER BY vendor_name ASC";
            $stmt = $pdo->query($sql);
            $vendors = $stmt->fetchAll(PDO::FETCH_ASSOC);
            foreach ($vendors as $vendor) {
                echo "<option value='" . htmlspecialchars($vendor['vendor_id'], ENT_QUOTES) . "'>" . htmlspecialchars($vendor['vendor_name'], ENT_QUOTES) . "</option>";
            }
        } catch (PDOException $e) {
            echo "<option value=''>Error loading vendors</option>";
        }
        ?>
    </select>
</div>
                    <div class="form-group">
                        <label for="loanTitle">Loan Title</label>
                        <input type="text" id="loanTitle" name="loanTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="loanAmount">Loan Amount</label>
                        <input type="number" id="loanAmount" name="loanAmount" required>
                    </div>
                    <div class="form-group">
                        <label for="interestRate">Interest Rate</label>
                        <input type="number" id="interestRate" name="interestRate" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="startDate">Start Date</label>
                        <input type="date" id="startDate" name="startDate" required>
                    </div>
                    <div class="form-group">
                        <label for="endDate">End Date</label>
                        <input type="date" id="endDate" name="endDate" required>
                    </div>
                    <div class="form-group">
                        <label for="paymentTerms">Payment Terms</label>
                        <input type="number" id="paymentTerms" name="paymentTerms" required>
                    </div>
                    <div class="form-group">
                        <label for="notes">Notes</label>
                        <input type="text" id="notes" name="notes">
                    </div>

                    <div class="form-actions">
                        <button type="button" id="cancelBtn" class="btn btn-secondary">Cancel</button>
                        <button type="submit" name="create" class="btn btn-primary">Create Loan</button>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
    <script>
    const toggleFormBtn = document.getElementById('toggleFormBtn');
    const modalOverlay = document.getElementById('modalOverlay');
    const cancelBtn = document.getElementById("cancelBtn");

    toggleFormBtn.addEventListener('click',()=>{
        modalOverlay.style.display='flex';
    });
    cancelBtn.addEventListener('click',()=>{
        modalOverlay.style.display="none";

    });

    modalOverlay.addEventListener('click',(e)=>{
        if(e.target === modalOverlay){
              modalOverlay.style.display='none';
        }
    })

</script>